# Client Accounts Watcher (Telegram Bot)

‡∏ö‡∏≠‡∏ó‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏ù‡πâ‡∏≤‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ **client_account** ‡∏à‡∏≤‡∏Å API (Exness affiliates endpoint) ‡πÅ‡∏•‡∏∞ **‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥** ‡πÄ‡∏°‡∏∑‡πà‡∏≠:
- ‡∏°‡∏µ‡∏ö‡∏±‡∏ç‡∏ä‡∏µ **‡πÉ‡∏´‡∏°‡πà** ‡πÇ‡∏ú‡∏•‡πà‡πÄ‡∏Ç‡πâ‡∏≤‡∏°‡∏≤
- ‡∏°‡∏µ‡∏ö‡∏±‡∏ç‡∏ä‡∏µ **‡∏´‡∏≤‡∏¢‡πÑ‡∏õ** ‡∏à‡∏≤‡∏Å‡∏•‡∏¥‡∏™‡∏ï‡πå
- ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏™‡∏£‡∏∏‡∏õ **‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î ‡∏ì ‡∏Ç‡∏ì‡∏∞‡∏ô‡∏±‡πâ‡∏ô**

‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ô‡πÅ‡∏ö‡∏ö:
- **‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß** (‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö cron / Railway Job)
- **‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ï‡πà‡∏≠‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á** ‡∏ï‡∏£‡∏ß‡∏à‡∏ó‡∏∏‡∏Å N ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ (‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö Railway Service)

## ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå
repo/
‚îú‚îÄ main.py
‚îî‚îÄ requirements.txt

> ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ Dockerfile/Procfile ‚Äî Railway ‡πÉ‡∏ä‡πâ Nixpacks ‡∏ï‡∏£‡∏ß‡∏à Python ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥

---

## Environment Variables

‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏ö‡∏ô Railway ( ‡∏´‡∏£‡∏∑‡∏≠ `.env` ‡πÉ‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏ó‡∏î‡∏™‡∏≠‡∏ö ):

- `EXNESS_JWT` : ‡πÇ‡∏ó‡πÄ‡∏Ñ‡∏ô JWT ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö API (‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‡∏Ñ‡∏≥‡∏ß‡πà‡∏≤ `JWT ` ‡∏ô‡∏≥‡∏´‡∏ô‡πâ‡∏≤)
- `TELEGRAM_TOKEN` : ‡πÇ‡∏ó‡πÄ‡∏Ñ‡∏ô‡∏ö‡∏≠‡∏ó‡∏à‡∏≤‡∏Å @BotFather
- `TELEGRAM_CHAT_ID` : ‡πÑ‡∏≠‡∏î‡∏µ‡∏õ‡∏•‡∏≤‡∏¢‡∏ó‡∏≤‡∏á (‡∏Ñ‡∏ô/‡∏Å‡∏•‡∏∏‡πà‡∏°/‡πÅ‡∏ä‡∏ô‡πÅ‡∏ô‡∏•)
- `API_URL` : (‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏î‡πâ) ‡∏Ñ‡πà‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô `https://my.exnessaffiliates.com/api/reports/clients/`
- `POLL_SECONDS` : `0` = ‡∏£‡∏±‡∏ô‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß, `>0` = ‡∏•‡∏π‡∏õ ‡πÄ‡∏ä‡πà‡∏ô `300` (‡∏ï‡∏£‡∏ß‡∏à‡∏ó‡∏∏‡∏Å 5 ‡∏ô‡∏≤‡∏ó‡∏µ)
- `STATE_FILE` : (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÉ‡∏´‡πâ‡∏ï‡∏±‡πâ‡∏á‡πÄ‡∏õ‡πá‡∏ô `/data/state_clients.json`) ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏Å‡πá‡∏ö snapshot ‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î
- `FIRST_RUN_SILENT` : `true/false` ‚Äî ‡∏ñ‡πâ‡∏≤ `true` ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å‡∏ó‡∏µ‡πà‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ state ‡∏à‡∏∞‡πÑ‡∏°‡πà‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏á‡∏≤‡∏ô

---

## ‡∏î‡∏µ‡∏û‡∏•‡∏≠‡∏¢‡∏î‡πâ‡∏ß‡∏¢ **GitHub + Railway**

1. Push ‡πÇ‡∏Ñ‡πâ‡∏î‡∏Ç‡∏∂‡πâ‡∏ô GitHub
2. ‡∏ó‡∏µ‡πà Railway: **New Project ‚Üí Deploy from GitHub ‚Üí ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å repo**
3. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà **Settings ‚Üí Variables** ‡πÉ‡∏™‡πà ENV ‡∏ï‡∏≤‡∏°‡∏î‡πâ‡∏≤‡∏ô‡∏ö‡∏ô
4. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà **Storage ‚Üí Add Volume**
   - Name: `data`
   - Size: 1GB (‡∏û‡∏≠)
   - **Mount Path:** `/data`
5. **Start Command** (‡∏ñ‡πâ‡∏≤‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô): `python main.py`
6. Deploy

> ‡πÉ‡∏ä‡πâ Volume ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡πÑ‡∏ü‡∏•‡πå‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ (`STATE_FILE`) ‡∏≠‡∏¢‡∏π‡πà‡∏£‡∏≠‡∏î‡∏´‡∏•‡∏±‡∏á‡∏£‡∏µ‡∏™‡∏ï‡∏≤‡∏£‡πå‡∏ï/‡∏£‡∏µ‡∏î‡∏µ‡∏û‡∏•‡∏≠‡∏¢ ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏ã‡πâ‡∏≥‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô

---

## ‡πÇ‡∏´‡∏°‡∏î‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô

### ‡πÇ‡∏´‡∏°‡∏î‡∏•‡∏π‡∏õ (Service)
‡∏ï‡∏±‡πâ‡∏á `POLL_SECONDS=300` ‡πÅ‡∏•‡πâ‡∏ß Railway ‡∏à‡∏∞‡∏£‡∏±‡∏ô‡∏ï‡πà‡∏≠‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á ‡∏ï‡∏£‡∏ß‡∏à‡∏ó‡∏∏‡∏Å 5 ‡∏ô‡∏≤‡∏ó‡∏µ

### ‡πÇ‡∏´‡∏°‡∏î‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß (Job/Cron)
‡∏ï‡∏±‡πâ‡∏á `POLL_SECONDS=0` ‡πÅ‡∏•‡πâ‡∏ß‡∏™‡∏±‡πà‡∏á‡∏£‡∏±‡∏ô‡∏î‡πâ‡∏ß‡∏¢

python main.py
‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏ä‡πâ Railway Jobs / GitHub Actions (schedule) ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏ã‡πâ‡∏≥‡∏ï‡∏≤‡∏°‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£

---

## ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô
üÜï ‡∏û‡∏ö client_account ‡πÉ‡∏´‡∏°‡πà:
‚Ä¢ 193651763
‚Ä¢ 14653813

üóëÔ∏è ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏´‡∏≤‡∏¢‡πÑ‡∏õ‡∏à‡∏≤‡∏Å‡∏•‡∏¥‡∏™‡∏ï‡πå:
‚Ä¢ 109083692

üìä ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô client_account ‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô: 25


---

## ‡πÄ‡∏Ñ‡∏•‡πá‡∏î‡∏•‡∏±‡∏ö

- ‡∏´‡πâ‡∏≤‡∏° commit ‡πÇ‡∏ó‡πÄ‡∏Ñ‡∏ô‡∏à‡∏£‡∏¥‡∏á‡∏•‡∏á GitHub ‚Äî ‡πÄ‡∏Å‡πá‡∏ö‡πÉ‡∏ô Railway Variables ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô
- ‡∏ñ‡πâ‡∏≤ API ‡∏°‡∏µ pagination ‡πÅ‡∏ö‡∏ö `next` ‡πÇ‡∏Ñ‡πâ‡∏î‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡πÅ‡∏•‡πâ‡∏ß
- ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏≠‡∏¢‡∏≤‡∏Å‡πÉ‡∏´‡πâ‡∏ö‡∏≠‡∏ó‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡∏≠‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å ‡πÉ‡∏´‡πâ‡∏ï‡∏±‡πâ‡∏á `FIRST_RUN_SILENT=true`
- ‡∏ñ‡πâ‡∏≤‡∏à‡∏∞‡∏¢‡πâ‡∏≤‡∏¢ state ‡πÑ‡∏õ‡πÄ‡∏Å‡πá‡∏ö **Redis/SQLite** ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏´‡∏•‡∏≤‡∏¢‡∏≠‡∏¥‡∏ô‡∏™‡πÅ‡∏ï‡∏ô‡∏ã‡πå/‡∏ä‡∏≤‡∏£‡πå‡∏î ‡∏ö‡∏≠‡∏Å‡πÑ‡∏î‡πâ ‡πÄ‡∏î‡∏µ‡πã‡∏¢‡∏ß‡∏ú‡∏°‡∏à‡∏±‡∏î‡πÉ‡∏´‡πâ

## ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏ö‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á (Local Dev)

```bash
python -m venv .venv
source .venv/bin/activate  # Windows: .venv\Scripts\activate
pip install -r requirements.txt

# ‡∏ï‡∏±‡πâ‡∏á ENV ‡∏ä‡∏±‡πà‡∏ß‡∏Ñ‡∏£‡∏≤‡∏ß (‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á)
export EXNESS_JWT="JWT xxx.yyy.zzz"
export TELEGRAM_TOKEN="123456:ABC-xyz"
export TELEGRAM_CHAT_ID="-1001234567890"
export STATE_FILE="./state_clients.json"
export POLL_SECONDS=0

python main.py
‡∏´‡∏≤‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ log ‡πÄ‡∏û‡∏¥‡πà‡∏°/‡∏ü‡∏¥‡∏•‡πÄ‡∏ï‡∏≠‡∏£‡πå‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•/‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏Å‡∏¥‡∏à ‡πÅ‡∏à‡πâ‡∏á‡πÑ‡∏î‡πâ‡∏Ñ‡∏£‡∏±‡∏ö

```

‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ‡∏ú‡∏°‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏±‡πâ‡∏á‡∏ä‡∏∏‡∏î‡∏ô‡∏µ‡πâ‡∏Ç‡∏∂‡πâ‡∏ô **GitHub repo** ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á (‡∏û‡∏£‡πâ‡∏≠‡∏° badge ‡πÅ‡∏•‡∏∞ screenshot logs) ‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏° **Dockerfile**/**GitHub Actions (schedule)** ‡πÉ‡∏´‡πâ‡∏î‡πâ‡∏ß‡∏¢ ‡∏ö‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠ repo/‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢ ‡πÄ‡∏î‡∏µ‡πã‡∏¢‡∏ß‡∏à‡∏±‡∏î‡∏ï‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏±‡∏ö üöÄ

